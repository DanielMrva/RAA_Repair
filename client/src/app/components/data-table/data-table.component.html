<div class="row">
    <div class="col-md-12">
         <table class="table table-bordered table-hover">
             <thead>
                 <tr>
                     <th>Entry</th>
                     <th *ngFor="let head of headerArray">{{head.header}} </th>  
                 </tr>
             </thead>
             <tbody>
                 <tr *ngFor="let item of data;let sr=index">
                    <td>{{sr+1}}</td>
                    <td  *ngFor="let head of headerArray">
                        <ng-container *ngIf="head.dataType == 'string' ">
                            <div *ngIf="head.fieldName != ''">
                                {{item[head.fieldName]}}
                            </div>
                        </ng-container>
                        <ng-container *ngIf="head.dataType == 'array' ">
                                <ul>
                                    <li *ngFor="let subItem of item[head.fieldName]">
                                        {{subItem}}
                                    </li>
                                </ul>
                        </ng-container>
                        <ng-container *ngIf="head.dataType == 'object' ">

                            <ng-container *ngIf="isTemplateKey(head.fieldName)">
                                
                            </ng-container>
                            <ul>
                                <li *ngFor="let subItem of item[head.fieldName]">

                                    <a [routerLink]="['/one-repair/{{subItem._id}}']">{{subItem.dateReceived}}</a>
                                </li>
                            </ul>
                        </ng-container>

                        <div *ngIf="head.fieldName == ''" class="text-center">
                            <!-- <button class="btn btn-sm btn-primary" (click)="edit(item)">Edit</button>
                            <button class="btn btn-sm btn-primary" (click)="delete(item)" style="margin-left: 10px;">Delete</button> -->
                        </div> 
                    </td>
                 </tr> 
             </tbody>
         </table>
    </div>
</div>


<!-- Old table -->
<!-- <table>
    <thead>
      <tr>
        <th *ngFor="let key of filteredDataKeys">{{ key }}</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of data">
        <ng-container *ngFor="let key of filteredDataKeys">
          <td *ngIf="!isTemplateKey(key)">
            {{ item[key] }}
          </td>
          <td *ngIf="isTemplateKey(key)">
            <ng-container *ngIf="templates[key]">
              <ng-container
                *ngTemplateOutlet="templates[key]; context: { $implicit: item[key] }"
              ></ng-container>
            </ng-container>
            <ng-container *ngIf="!templates[key]">
              {{ item[key] }}
            </ng-container>
          </td>
        </ng-container>
      </tr>
    </tbody>
  </table> -->
  
