<div class="container py-3">
  <div class="row">
    <h4 class="col-12 d-flex justify-content-center">{{ partID ? 'Edit Part' : 'Add New Part'}}</h4>
  </div>
  <form [formGroup]="partForm" (ngSubmit)="submitForm()" class="row">
    <mat-form-field class="form-group col-12">
      <mat-label for="partNumber">
        Part Number:
      </mat-label>
      <input
        type="text"
        placeholder="Part Number"
        aria-label="Part Number"
        matInput
        [formControl]="partForm.controls.partNumber"
        [class.invalid]="isDuplicatePartNumber(partForm.get('partNumber')?.value || '')"
      >
      <small *ngIf="isDuplicatePartNumber(partForm.get('partNumber')?.value || '')">
        Part number already exists.
      </small>
    </mat-form-field>

    <mat-form-field class="form-group col-12">
      <mat-label for="description">
        Part Description:
      </mat-label>
      <input
        type="text"
        placeholder="Part Description"
        aria-label="Part Description"
        matInput
        [formControl]="partForm.controls.description"
        [class.invalid]="isDuplicateDescription(partForm.get('description')?.value || '', partForm.get('partNumber')?.value || '')"
      >
      <small *ngIf="isDuplicateDescription(partForm.get('description')?.value || '', partForm.get('partNumber')?.value || '')">
        Description with that Part Number already exists.
      </small>
    </mat-form-field>
  
    <mat-form-field class="form-group col-12">
      <mat-label for="manufacturer">
        Manufacturer:
      </mat-label>
      <input
        type="text"
        placeholder="Manufacturer"
        aria-label="Manufacturer"
        matInput
        [formControl]="partForm.controls.manufacturer"
      >
    </mat-form-field>

    <mat-form-field class="form-group col-12">
      <mat-label for="cost">
        Cost
      </mat-label>
      <input 
      id="cost"
      type="number"
      placeholder="Cost"
      aria-label="Cost"
      matInput
      formControlName="cost"
      [formControl]="partForm.controls.cost"
      >

    </mat-form-field>

    <mat-form-field class="form-group col-12">
      <mat-label for="msrp">
        MSRP
      </mat-label>
      <input 
      id="msrp"
      type="number"
      placeholder="MSRP"
      aria-label="Manufacturer Suggested Retail Price"
      matInput
      formControlName="msrp"
      [formControl]="partForm.controls.msrp"
      >

    </mat-form-field>
  
    <div class="col-12 d-flex justify-content-center">
      <button type="submit" class="btn btn-primary" [disabled]="partForm.invalid">{{partID ? 'Save Changes' : 'Add Part'}}</button>
      <button type="button" class="btn btn-secondary" (click)="closeModal()">Cancel</button>
  
    </div>
  
  </form>
</div>