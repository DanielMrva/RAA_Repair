<div class="container">
    <div class="row">

        <h2 class="col-12 text-center">Add Radio</h2>

        <form [formGroup]="adminRadioForm" (ngSubmit)="onSubmit()" class="row">

            <section class="row" id="timeline-section">

                <h4 class="col-12 text-center">Timeline</h4>

                <!-- <div class="form-group col-4">
                    <label for="dateSold">Date Sold:</label>
                    <input
                        type="text"
                        id="dateSold"
                        formControlName="dateSold"
                        class="form-control"
                    >
                </div>
            
                <div class="form-group col-4">
                    <label for="dateEntered">Date Entered:</label>
                    <input
                        type="text"
                        id="dateEntered"
                        formControlName="dateEntered"
                        class="form-control"
                    >
                </div>

                        
                <div class="form-group col-4">
                    <label for="warranty">Warranty Experation:</label>
                    <input
                        type="text"
                        id="warranty"
                        formControlName="warranty"
                        class="form-control"
                    >
                </div> -->

                <mat-form-field class="form-group col-4">
                    <mat-label>Date Sold</mat-label>
                    <input matInput [matDatepicker]="dateSoldPicker" formControlName="dateSold">
                    <mat-datepicker-toggle matSuffix [for]="dateSoldPicker"></mat-datepicker-toggle>
                    <mat-datepicker #dateSoldPicker></mat-datepicker>
                </mat-form-field>

                <mat-form-field class="form-group col-4">
                    <mat-label>Date Entered</mat-label>
                    <input matInput [matDatepicker]="dateEnteredPicker" formControlName="dateEntered">
                    <mat-datepicker-toggle matSuffix [for]="dateEnteredPicker"></mat-datepicker-toggle>
                    <mat-datepicker #dateEnteredPicker></mat-datepicker>
                </mat-form-field>

                <mat-form-field class="form-group col-4">
                    <mat-label>Warranty Experation</mat-label>
                    <input matInput [matDatepicker]="warrantyPicker" formControlName="warranty">
                    <mat-datepicker-toggle matSuffix [for]="warrantyPicker"></mat-datepicker-toggle>
                    <mat-datepicker #warrantyPicker></mat-datepicker>
                </mat-form-field>

            </section>

            <section class="row" id="tracking">

                <h4 class="col-12 text-center">Tracking</h4>

                <!-- <div class="form-group col-6">
                    <label for="orgName">Organization: </label>
                    <mat-spinner *ngIf="isLoadingOrgNames$ | async; else loadedOrgNames"></mat-spinner>
                    <div *ngIf="orgNameError$ | async as error">{{ error }}</div>
                    <ng-template #loadedOrgNames>
                        <mat-select *ngIf="orgNames$ | async as orgList" id="orgName" formControlName="orgName">
                            <mat-option *ngFor="let org of orgList" [value]="org.orgName">
                                {{ org.orgName }}
                            </mat-option>
                        </mat-select>
                    </ng-template>
                </div> -->


                <div class="form-group col-4">
                    <label for="orgName">Organization Name:</label>
                    <input type="text" id="orgName" formControlName="orgName" class="form-control"
                        [class.invalid]="fieldValidCheck('orgName')">
                </div>

                <div class="form-group col-4">
                    <label for="location">Location:</label>
                    <input type="text" id="location" formControlName="location" class="form-control">
                </div>

                <div class="form-group col-4">
                    <label for="inventoryNumber">Inventory Number:</label>
                    <input type="text" id="inventoryNumber" formControlName="inventoryNumber" class="form-control"
                        [class.invalid]="fieldValidCheck('inventoryNumber')">
                </div>

            </section>

            <section class="row" id="radio-secton">

                <h4 class="col-12 text-center">Radio Details</h4>

                <div class="form-group col-4">
                    <label for="make">Make:</label>
                    <input type="text" id="make" formControlName="make" class="form-control"
                        [class.invalid]="fieldValidCheck('make')">
                </div>

                <div class="form-group col-4">
                    <label for="model">Model:</label>
                    <input type="text" id="model" formControlName="model" class="form-control"
                        [class.invalid]="fieldValidCheck('model')">
                </div>

                <div class="form-group col-4">
                    <label for="serialNumber">Serial Number:</label>
                    <input type="text" id="serialNumber" formControlName="serialNumber" class="form-control"
                        [class.invalid]="fieldValidCheck('serialNumber')">
                </div>

                <div class="form-group col-4">
                    <label for="radioType">Radio Type:</label>
                    <mat-radio-group formControlName="radioType">
                        <mat-radio-button value="mobile">Mobile</mat-radio-button>
                        <mat-radio-button value="static">Static</mat-radio-button>
                    </mat-radio-group>
                </div>

                <div class="form-group col-4">
                    <label>Refurb:</label>
                    <mat-radio-group formControlName="refurb">
                        <mat-radio-button [value]="true">Yes</mat-radio-button>
                        <mat-radio-button [value]="false">No</mat-radio-button>
                    </mat-radio-group>
                </div>

                <div class="form-group col-4">
                    <label for="progChannels">Programmed Channels:</label>
                    <input type="text" id="progChannels" formControlName="progChannels" class="form-control">
                </div>

            </section>

            <section class="row" id="notes-section">
                <h4 class="col-12 text-center">Notes: </h4>

                <div class="form-group col-12">
                    <label for="notes">Notes:</label>
                    <div formArrayName="notes">
                        <div *ngFor="let note of notesArray.controls; let i = index" class="input-group mb-2">
                            <input type="text" [formControlName]="i" class="form-control">
                            <div class="input-group-append">
                                <button *ngIf="notesArray.length > 1" type="button" class="btn btn-danger"
                                    (click)="removeNotes(i)">
                                    <i class="bi bi-trash-fill"></i>
                                </button>
                            </div>
                        </div>
                        <button type="button" class="btn btn-primary" (click)="addNotes()"><i
                                class="bi bi-plus-circle"></i></button>
                    </div>
                </div>

            </section>

            <div class="col-12 d-flex justify-content-center">
                <button type="submit" class="btn btn-primary">Submit</button>
            </div>


        </form>
    </div>
</div>